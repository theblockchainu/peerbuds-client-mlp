
    <h3 mat-dialog-title>{{getAddOrEditText()}} online session for {{itenaryForm.value.date | date: 'MMM dd, y'}}</h3>
    <button mat-button class="pull-right" style="cursor: pointer; position: relative; top: -50px; right: -20px;" [mat-dialog-close]="getCloseDialogData()" *ngIf="isEdit">
        <mat-icon style="color: #777777; font-size: 20px;">close</mat-icon>
    </button>
    <div *ngIf="lastIndex>-1">
        <form [formGroup]="itenaryForm.controls.contents.controls[lastIndex]">
            <mat-dialog-content>
                <div class="row">
                    <div class="col-sm-12 margin-bottom-30">
                        <mat-input-container class="pb-block margin-top-20 margin-bot-20">
                            <input matInput #title formControlName="title" placeholder="Title" class="title" [required]="true">
                        </mat-input-container>

                        <div formGroupName="schedule">
                            <mat-input-container class="timeInput margin-top-20 margin-bot-20" style="width:20%">
                                <input matInput type="time" #startTime formControlName="startTime" placeholder="Start Time">
                            </mat-input-container>
                            <mat-input-container class="timeInput margin-top-20 margin-bot-20" style="margin-left: 20px; width:20%">
                                <input matInput type="time" #endTime formControlName="endTime" placeholder="End Time">
                            </mat-input-container>
                        </div>

                        <div class="form-group margin-top-20">
                            <label class="title">Upload a photo:</label>
                            <div class="upload-image-section imageHolder">
                                <p-fileUpload #fubauto name="image" url="{{config.apiUrl}}/api/media/upload?container=peerbuds-dev1290" (onUpload)="uploadImage($event)" maxFileSize="10000000" auto="true" chooseLabel="Browse">
                                    <ng-template pTemplate="toolbar">
                                        <div style="font-size: 80%; margin-top: 5px;">You can upload a maximum of 1 image</div>
                                    </ng-template>
                                    <ng-template #file pTemplate="file">
                                    </ng-template>
                                    <ng-template pTemplate="content">
                                        <mat-grid-list cols="4" gutterSize="10px" *ngIf="image.value">
                                            <mat-grid-tile>
                                                <div style="position: absolute; cursor: pointer;">
                                                    <mat-icon style="color: black;">close</mat-icon>
                                                </div>
                                                <img src="{{config.apiUrl + image.value}}" width="150" (error)="imgErrorHandler($event)">
                                            </mat-grid-tile>
                                        </mat-grid-list>
                                    </ng-template>
                                </p-fileUpload>
                            </div>
                        </div>
                        <mat-input-container class="pb-block" style="margin-top: 20px; margin-bottom: 20px">
                            <textarea matInput #description maxlength="500" rows="2" formControlName="description" placeholder="What will we do?" [required]="true" class="title"></textarea>
                            <mat-hint align="end">{{description.value.length}} / 500</mat-hint>
                        </mat-input-container>
                        <mat-input-container class="pb-block" style="margin-top: 20px; margin-bottom: 20px">
                            <textarea matInput #prerequisites maxlength="500" rows="2" formControlName="prerequisites" placeholder="What do learners need to know?" class="title" [required]="true"></textarea>
                            <mat-hint align="end">{{prerequisites.value.length}} / 500</mat-hint>
                        </mat-input-container>
                        <div class="form-group">
                            <label class="display-block title">Add supporting material</label>
                            <p-fileUpload #fubauto name="file" url="{{config.apiUrl}}/api/media/upload?container=peerbuds-dev1290" (onUpload)="uploadAttachments($event)" maxFileSize="10000000" auto="true" chooseLabel="Browse">
                                <ng-template pTemplate="toolbar">
                                    <div style="font-size: 80%; margin-top: 5px;">You can upload a maximum of 2 attachments</div>
                                </ng-template>
                                <ng-template #file pTemplate="file">
                                </ng-template>
                                <ng-template pTemplate="content">
                                    <mat-grid-list cols="1" gutterSize="10px" rowHeight="50px" *ngIf="attachments.length">
                                        <mat-grid-tile *ngFor="let file of attachments">
                                            <div style="float: left; margin-right: 15px; cursor: pointer;">
                                                <mat-icon style="color: black;">close</mat-icon>
                                            </div>
                                            <a href="{{config.apiUrl + file}}">{{file}}</a>
                                        </mat-grid-tile>
                                    </mat-grid-list>
                                </ng-template>
                            </p-fileUpload>
                        </div>
                    </div>
                </div>
            </mat-dialog-content>
            <mat-dialog-actions>
                <button mat-raised-button [mat-dialog-close]="getSaveDialogData()" color="accent" *ngIf="!isEdit" [disabled]="title.value.length==0 && description.value.length == 0 && prerequisites.value.length == 0">Save</button> &emsp;
                <button mat-raised-button [mat-dialog-close]="getEditDialogData()" color="accent" *ngIf="isEdit">Update</button> &emsp;
                <button mat-button [mat-dialog-close]="getDiscardDialogData()" *ngIf="!isEdit">Discard</button>
                <button mat-button [mat-dialog-close]="getDeleteDialogData()" *ngIf="isEdit">Delete</button>
            </mat-dialog-actions>
        </form>
    </div>